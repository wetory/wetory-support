function wetory_support_settings_btn_click(vl){document.getElementById("wetory_support_submit_action").value=vl}function refresh_page(e){e.preventDefault(),window.location.reload()}function wetory_support_dismiss_notice_btn_click(el){el.parent().remove()}function openSettingsTab(evt,tabName){var i,tabcontent,tablinks;for(tabcontent=document.getElementsByClassName("wetory-tab-content"),i=0;i<tabcontent.length;i++)tabcontent[i].style.display="none";for(tablinks=document.getElementsByClassName("wetory-tab-link"),i=0;i<tablinks.length;i++)tablinks[i].className=tablinks[i].className.replace(" nav-tab-active","");document.getElementById(tabName).style.display="block",evt.currentTarget.className+=" nav-tab-active"}!function($){$((function(){0<$(".wetory-datepicker").length&&$(".wetory-datepicker").datepicker({dateFormat:"dd.mm.yy"}),$("select.widget-link-style").change((function(){"none"===$(this).val()?$(this).parent().next("div.widget-link-options").css("display","none"):$(this).parent().next("div.widget-link-options").css("display","block")})),$("input.mp-operation").click((function(){button=$(this),original_value=button.val(),$.ajax({url:ajaxurl,type:"post",data:"action=wetory_"+button.attr("name")+"_maintenance_page",beforeSend:function(){button.val(button.attr("data-working-text"))},success:function(response){wetory_support_notify_msg.success(response)},error:function(){},complete:function(){button.val(original_value)}})})),$("#settings-overview-table a.thickbox").click((function(){section="'"+this.dataset.section+"'",key="-"==this.dataset.key?"null":"'"+this.dataset.key+"'",name="'"+this.dataset.name+"'",$("#settings-in-code-section").text(section),$("#settings-in-code-key").text(key),$("#settings-in-code-name").text(name)}));var ws_nav_tab=$(".wetory-support-nav-tab-wrapper .nav-tab");if(ws_nav_tab.length>0){ws_nav_tab.click((function(){var href_hash=$(this).attr("href");ws_nav_tab.removeClass("nav-tab-active"),$(this).addClass("nav-tab-active"),href_hash="#"===href_hash.charAt(0)?href_hash.substring(1):href_hash;var ws_tab_elm=$('div[data-id="'+href_hash+'"]');$(".wetory-support-tab-content").hide(),ws_tab_elm.length>0&&ws_tab_elm.fadeIn()}));var location_hash=window.location.hash;if(""!==location_hash){var ws_tab_hash="#"===location_hash.charAt(0)?location_hash.substring(1):location_hash;""!==ws_tab_hash&&($('div[data-id="'+ws_tab_hash+'"]').show(),$('a[href="#'+ws_tab_hash+'"]').addClass("nav-tab-active"))}else ws_nav_tab.eq(0).click()}$(".wetory-support-sub-tab li").click((function(){var trgt=$(this).attr("data-target"),prnt=$(this).parent(".wetory-support-sub-tab"),ctnr=prnt.siblings(".wetory-support-sub-tab-container");prnt.find("li a").css({color:"#0073aa",cursor:"pointer"}),$(this).find("a").css({color:"#000",cursor:"default","font-weight":"600"}),ctnr.find(".wetory-support-sub-tab-content").hide(),ctnr.find('.wetory-support-sub-tab-content[data-id="'+trgt+'"]').fadeIn()})),$(".wetory-support-sub-tab").each((function(){var elm;$(this).children("li").eq(0).click()})),$("#wetory_support_settings_form").submit((function(e){var submit_action=$("#wetory_support_submit_action").val();e.preventDefault();var data=$(this).serialize(),spinner=$(this).find(".spinner"),submit_btn=$(this).find('input[type="submit"]');$.ajax({url:ajaxurl,type:"post",data:data+"&action="+submit_action,beforeSend:function(){spinner.css({visibility:"visible"}),submit_btn.css({opacity:".5",cursor:"default"}).prop("disabled",!0)},success:function(response){wetory_support_notify_msg.success(response.data),"wetory_support_ajax_reset_settings"==submit_action&&setTimeout((function(){window.location.reload(!0)}),1e3)},error:function(xhr,status,error){xhr.responseJSON&&xhr.responseJSON.data?Array.isArray(xhr.responseJSON.data)&&xhr.responseJSON.data.length?xhr.responseJSON.data.forEach((error,i,arr)=>{wetory_support_notify_msg.error(error.message)}):wetory_support_notify_msg.error(xhr.responseJSON.data):wetory_support_notify_msg.error(xhr.responseText)},complete:function(){spinner.css({visibility:"hidden"}),submit_btn.css({opacity:"1",cursor:"pointer"}).prop("disabled",!1)}})}))}))}(jQuery);var wetory_support_notify_msg={error:function(message){var el=jQuery('<div class="notice notice-error settings-error is-dismissible"><p>'+message+'</p><button type="button" class="notice-dismiss" onclick="return this.parentNode.remove();"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');this.setNotify(el)},success:function(message){var el=jQuery('<div class="notice notice-success settings-error is-dismissible auto-dissmiss"><p>'+message+'</p><button type="button" class="notice-dismiss" onclick="return this.parentNode.remove();"><span class="screen-reader-text">Dismiss this notice.</span></button></div>');this.setNotify(el)},setNotify:function(el){jQuery(".wetory-support-plugin-notifications").append(el),window.scrollTo({top:0,behavior:"smooth"}),el.stop(!0,!0).animate({opacity:1},1e3),el.hasClass("auto-dissmiss")&&setTimeout((function(){el.animate({opacity:0},1e3,(function(){el.remove()}))}),3e3)}};